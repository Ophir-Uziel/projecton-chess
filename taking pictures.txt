def take_photo(num_of_picture):
    i = 0
    img = []
    GPIO.setmode(GPIO.BOARD)
    GPIO.setup(11,GPIO.IN, pull_up_down=GPIO.PUD_DOWN)

#    GPIO.setup(7,GPIO.OUT) do not think we need it
#    GPIO.output(7,0)  like earlier line
    try:
        while True:
            if (GPIO.input(11) == 1):
                stream = io.BytesIO()
                with picamera.PiCamera() as camera:
                    camera.start_preview()
                    time.sleep(2)
                    camera.capture(stream, format='jpg')
                # Construct a numpy array from the stream
                data = np.fromstring(stream.getvalue(), dtype=np.uint8)
                # "Decode" the image from the array, preserving colour
                img.append(cv2.imdecode(data, 1))
                img[i] = img[1][:, :, ::-1]
                i +=1
                if i == num_of_picture:
                    return img

                    # OpenCV returns an array with data in BGR order. If you want RGB instead
                # use the following...

    except KeyboardInterrupt:
        GPIO.cleanup
